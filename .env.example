# Backend database connectivity
APP_DB_URL=jdbc:postgresql://postgres:5434/ai_advent
APP_DB_USERNAME=ai_advent
APP_DB_PASSWORD=ai_advent
SPRING_PROFILES_ACTIVE=prod

# HTTP client configuration
HTTP_CLIENT_CONNECT_TIMEOUT=PT45S
HTTP_CLIENT_READ_TIMEOUT=PT4M
OPENAI_CLIENT_READ_TIMEOUT=PT4M
ZHIPU_CLIENT_READ_TIMEOUT=PT4M

# OpenAI provider configuration
OPENAI_BASE_URL=https://api.openai.com/v1
OPENAI_API_KEY=replace-with-openai-key
OPENAI_DEFAULT_MODEL=gpt-4o-mini
OPENAI_TEMPERATURE=0.7
OPENAI_TOP_P=1.0
OPENAI_MAX_TOKENS=1024

FLOW_WORKER_ENABLED=true
FLOW_WORKER_POLL_DELAY=PT0.5S
FLOW_WORKER_MAX_CONCURRENCY=1
FLOW_WORKER_ID_PREFIX=
OPENAI_TIMEOUT=PT30S

# Zhipu provider configuration (z.ai)
ZHIPU_BASE_URL=https://api.z.ai
ZHIPU_COMPLETIONS_PATH=/api/paas/v4/chat/completions
ZHIPU_API_KEY=replace-with-zhipu-key
ZHIPU_DEFAULT_MODEL=glm-4.6
ZHIPU_TEMPERATURE=0.7
ZHIPU_TOP_P=0.95
ZHIPU_MAX_TOKENS=1024
ZHIPU_TIMEOUT=PT30S

# Perplexity MCP configuration
PERPLEXITY_MCP_ENABLED=true
PERPLEXITY_MCP_CMD=perplexity-mcp
PERPLEXITY_API_KEY=replace-with-perplexity-key
PERPLEXITY_TIMEOUT_MS=120s

# Internal MCP servers (Flow Ops / Agent Ops / Insight)
AGENT_OPS_MCP_HTTP_BASE_URL=http://agent-ops-mcp:8080
AGENT_OPS_MCP_HTTP_ENDPOINT=/mcp
AGENT_OPS_BACKEND_BASE_URL=http://backend:8080
AGENT_OPS_BACKEND_API_TOKEN=
FLOW_OPS_MCP_HTTP_BASE_URL=http://flow-ops-mcp:8080
FLOW_OPS_MCP_HTTP_ENDPOINT=/mcp
FLOW_OPS_BACKEND_BASE_URL=http://backend:8080
FLOW_OPS_BACKEND_API_TOKEN=
INSIGHT_MCP_HTTP_BASE_URL=http://insight-mcp:8080
INSIGHT_MCP_HTTP_ENDPOINT=/mcp
INSIGHT_BACKEND_BASE_URL=http://backend:8080
INSIGHT_BACKEND_API_TOKEN=

# Notes MCP configuration
NOTES_MCP_HTTP_BASE_URL=http://notes-mcp:8080
NOTES_MCP_HTTP_ENDPOINT=/mcp
NOTES_MCP_HTTP_PORT=7097
NOTES_MCP_DB_URL=jdbc:postgresql://postgres:5432/ai_advent
NOTES_MCP_DB_USER=ai_advent
NOTES_MCP_DB_PASSWORD=ai_advent
NOTES_EMBEDDING_MODEL=text-embedding-3-small
NOTES_EMBEDDING_DIMENSIONS=1536
NOTES_SEARCH_TOP_K=5
NOTES_SEARCH_MIN_SCORE=0.55

# GitHub MCP configuration
GITHUB_MCP_HTTP_BASE_URL=http://github-mcp:8080
GITHUB_MCP_HTTP_ENDPOINT=/mcp
GITHUB_MCP_HTTP_PORT=7094
GITHUB_API_BASE_URL=https://api.github.com
GITHUB_PAT=
GITHUB_CONNECT_TIMEOUT=PT15S
GITHUB_READ_TIMEOUT=PT45S
GITHUB_TREE_CACHE_TTL=PT2M
GITHUB_FILE_CACHE_TTL=PT2M
GITHUB_TREE_MAX_DEPTH=4
GITHUB_TREE_MAX_ENTRIES=500
GITHUB_FILE_MAX_SIZE_BYTES=524288
GITHUB_USER_AGENT=AI Advent GitHub MCP/0.1

# Chat memory configuration
CHAT_MEMORY_WINDOW_SIZE=20
CHAT_MEMORY_RETENTION=PT6H
CHAT_MEMORY_CLEANUP_INTERVAL=PT30M
CHAT_MEMORY_SUMMARIZATION_ENABLED=false
CHAT_MEMORY_SUMMARIZATION_TRIGGER=12000
CHAT_MEMORY_SUMMARIZATION_TARGET=6000
CHAT_MEMORY_SUMMARIZATION_MODEL=openai:gpt-4o-mini
CHAT_MEMORY_SUMMARIZATION_MAX_CONCURRENT=4
CHAT_MEMORY_SUMMARIZATION_MAX_QUEUE_SIZE=100
CHAT_MEMORY_SUMMARY_RETAINED_MESSAGES=200
CHAT_MEMORY_SUMMARIZATION_BACKFILL_ENABLED=false
CHAT_MEMORY_SUMMARIZATION_BACKFILL_MIN_MESSAGES=40
CHAT_MEMORY_SUMMARIZATION_BACKFILL_BATCH_SIZE=25
CHAT_MEMORY_SUMMARIZATION_BACKFILL_MAX_ITERATIONS=20

# Token usage estimation
CHAT_TOKEN_USAGE_TOKENIZER=cl100k_base
CHAT_TOKEN_USAGE_CACHE_ENABLED=false
CHAT_TOKEN_USAGE_CACHE_TTL=PT15M
CHAT_TOKEN_USAGE_CACHE_PREFIX=chat:usage
SPRING_DATA_REDIS_HOST=redis
SPRING_DATA_REDIS_PORT=6379
REDIS_PORT=6380

# Postgres configuration
POSTGRES_DB=ai_advent
POSTGRES_USER=ai_advent
POSTGRES_PASSWORD=ai_advent

# Frontend configuration
VITE_API_BASE_URL=/api

# Telegram bot configuration (Wave 27)
TELEGRAM_BOT_ENABLED=false
TELEGRAM_BOT_TOKEN=
TELEGRAM_BOT_USERNAME=ai_advent_bot
TELEGRAM_BOT_WEBHOOK_URL=https://example.com/telegram/update
TELEGRAM_BOT_WEBHOOK_PATH=/telegram/update
TELEGRAM_BOT_WEBHOOK_SECRET=
TELEGRAM_BOT_ALLOWED_UPDATES=message,callback_query
TELEGRAM_BOT_ALLOWED_USER_IDS=123456789,987654321
TELEGRAM_STT_ENABLED=true
TELEGRAM_STT_MODEL=gpt-4o-mini-transcribe
TELEGRAM_STT_FALLBACK_MODEL=
TELEGRAM_STT_LANGUAGE=ru
