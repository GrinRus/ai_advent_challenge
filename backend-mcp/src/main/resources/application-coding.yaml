server:
  port: ${CODING_MCP_HTTP_PORT:${SERVER_PORT:8080}}

spring:
  ai:
    mcp:
      server:
        enabled: true
        stdio: false
        protocol: STREAMABLE
        name: coding-mcp
        version: 0.1.0
        type: SYNC
        annotation-scanner:
          enabled: false
        instructions: |
          Coding MCP предоставляет инструменты assisted coding поверх локального workspace:
          • coding.generate_patch — подготовка diff и сохранение патча в реестре.
          • coding.review_patch — эвристическое ревью (риски, тесты, миграции).
          • coding.apply_patch_preview — ручной dry-run (git apply, Docker runner).
          • coding.list_patches — получение списка активных патчей.
          • coding.discard_patch — удаление патча из реестра.
        capabilities:
          tool: true
          resource: false
          prompt: false
          completion: false
      streamable-http:
        mcp-endpoint: /mcp
        keep-alive-interval: 30s

coding:
  patch-ttl: ${CODING_PATCH_TTL:PT24H}
  max-diff-bytes: ${CODING_MAX_DIFF_BYTES:262144}
  max-context-bytes: ${CODING_MAX_CONTEXT_BYTES:262144}
